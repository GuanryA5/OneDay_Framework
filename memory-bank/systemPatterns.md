# Ïƒâ‚‚: System Patterns

_v1.1 | Created: 2025-01-24 | Updated: 2025-01-27_
_Î : DEVELOPMENT | Î©: CONTEXT_

## ğŸ›ï¸ Architecture Overview

OneDay Framework é‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œæ ¸å¿ƒåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªä¸»è¦å±‚æ¬¡ï¼š

### ğŸ“± Presentation Layer (UI)

- **Qt6 Widgets**: ä¸»è¦ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **è“å›¾ç¼–è¾‘å™¨**: å¯è§†åŒ–èŠ‚ç‚¹ç¼–è¾‘å™¨
- **å·¥å…·æ å’Œèœå•**: æ ‡å‡†æ¡Œé¢åº”ç”¨ç•Œé¢

### ğŸ§  Business Logic Layer (Core)

- **è„šæœ¬å¼•æ“**: è“å›¾åˆ°å¯æ‰§è¡Œä»£ç çš„è½¬æ¢
- **èŠ‚ç‚¹ç³»ç»Ÿ**: å¯æ‰©å±•çš„èŠ‚ç‚¹ç±»å‹æ¡†æ¶
- **æ‰§è¡Œè°ƒåº¦å™¨**: è„šæœ¬æ‰§è¡Œå’Œä»»åŠ¡ç®¡ç†

### ğŸ”§ Service Layer

- **é…ç½®ç®¡ç†**: JSON é…ç½®æ–‡ä»¶å¤„ç†
- **æ—¥å¿—ç³»ç»Ÿ**: spdlog é›†æˆçš„æ—¥å¿—æœåŠ¡
- **æ’ä»¶ç³»ç»Ÿ**: å¯æ‰©å±•çš„åŠŸèƒ½æ¨¡å—

### ğŸ’¾ Data Layer

- **é¡¹ç›®æ–‡ä»¶ç®¡ç†**: è“å›¾é¡¹ç›®çš„åºåˆ—åŒ–/ååºåˆ—åŒ–
- **èµ„æºç®¡ç†**: é™æ€èµ„æºå’Œæ¨¡å‹æ–‡ä»¶ç®¡ç†

## ğŸ”„ Key Design Patterns

### 1. Model-View-Controller (MVC)

- **Model**: æ ¸å¿ƒæ•°æ®ç»“æ„å’Œä¸šåŠ¡é€»è¾‘
- **View**: Qt6 ç•Œé¢ç»„ä»¶
- **Controller**: ç”¨æˆ·äº¤äº’å¤„ç†

### 2. Observer Pattern

- èŠ‚ç‚¹çŠ¶æ€å˜åŒ–é€šçŸ¥
- UI æ›´æ–°æœºåˆ¶

### 3. Factory Pattern

- èŠ‚ç‚¹ç±»å‹åˆ›å»º
- æ’ä»¶å®ä¾‹åŒ–

### 4. Command Pattern

- æ“ä½œå†å²å’Œæ’¤é”€/é‡åšåŠŸèƒ½

## ğŸ”— Component Dependencies

```
UI Layer
    â†“
Core Engine
    â†“
Service Layer
    â†“
External Libraries (Qt6, OpenCV, etc.)
```

## ğŸ“ Design Decisions

- **è¯­è¨€é€‰æ‹©**: C++20 - ç°ä»£ C++ç‰¹æ€§ï¼Œé«˜æ€§èƒ½
- **GUI æ¡†æ¶**: Qt6 - æˆç†Ÿçš„è·¨å¹³å° GUI è§£å†³æ–¹æ¡ˆ
- **æ„å»ºç³»ç»Ÿ**: CMake - æ ‡å‡†çš„ C++æ„å»ºå·¥å…·
- **åŒ…ç®¡ç†**: vcpkg - Microsoft æ¨èçš„ C++åŒ…ç®¡ç†å™¨

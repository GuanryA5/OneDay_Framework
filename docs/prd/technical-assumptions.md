# Technical Assumptions

## Repository Structure: Monorepo
采用单一代码仓库管理整个项目，便于代码共享、依赖管理和协调开发。所有模块（蓝图引擎、图像处理、寻路系统、UI界面）都在同一个仓库中，使用子目录进行模块划分。这种结构有利于原子性提交、统一的CI/CD流程和简化的部署过程。

## Service Architecture
C++模块化单体架构 + Qt6 GUI框架。选择单体架构是因为：(1) 游戏脚本需要极低延迟，避免网络开销；(2) 简化部署和维护；(3) 更好的性能调优和资源共享。采用模块化设计确保代码可维护性，核心模块包括：蓝图引擎模块、图像处理模块、寻路算法模块、UI交互模块、游戏接口模块。

## Testing Requirements
完整测试金字塔：单元测试 + 集成测试 + 端到端测试 + 性能基准测试。由于C++项目的复杂性和性能要求，必须建立全面的测试体系：
- **单元测试**：使用Google Test框架，覆盖率≥80%
- **集成测试**：模块间接口测试，验证数据流和API调用
- **性能测试**：建立基准测试套件，监控关键性能指标
- **3D游戏兼容性测试**：针对目标游戏的专门测试用例
- **自动化测试**：集成到CI/CD管道，每次提交自动运行

## Additional Technical Assumptions and Requests

**核心技术栈决策与理由**：
- **C++20标准**：利用现代C++特性（concepts、modules、coroutines）提升开发效率和运行性能
- **Qt6.6+框架**：成熟的跨平台GUI框架，优秀的Graphics View Framework适合蓝图编辑器
- **OpenCV 4.8+**：业界标准图像处理库，C++ API性能优秀，文档完善
- **TensorRT 8.6+**：NVIDIA GPU加速AI推理，专门优化YOLO模型性能
- **ONNX Runtime**：跨平台AI推理引擎，支持多种硬件后端

**寻路系统专用技术**：
- **CGAL库**：计算几何算法库，提供高质量的空间数据结构
- **Boost.Geometry**：几何算法和空间索引，优化路径计算性能
- **自研多算法引擎**：A* + JPS + 分层寻路的混合实现

**性能优化技术**：
- **Intel TBB**：并行计算框架，充分利用多核CPU资源
- **CUDA加速**：GPU并行计算，加速图像处理和AI推理
- **内存池分配器**：减少内存分配开销，提升实时性能
- **LLVM JIT编译**：蓝图运行时编译优化

**开发工具链**：
- **CMake构建系统**：跨平台构建，依赖管理，支持现代C++
- **vcpkg包管理**：C++依赖包管理，简化第三方库集成
- **Visual Studio 2022**：主要IDE，完整的C++20支持和调试工具
- **Clang-cl编译器**：可选的高性能编译器，代码优化能力强
